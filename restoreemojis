#!/usr/bin/env bash

# @file restoreemojis
# @brief Replace certain emojis in markdown files with alternatives
# @description Replaces specific emoji characters in all markdown files:
# - "Crying Face" (ğŸ˜¢) with "Face Holding Back Tears" (ğŸ¥¹)
# - "Heart Eyes" (ğŸ˜) with "Smiling Face with Hearts" (ğŸ¥°)

#######################################
# Main function
# Globals:
#   None
# Arguments:
#   None
# Outputs:
#   None
# Returns:
#   0 on success, non-zero on error
#######################################
function main() {
  local -r files=(./**/*.md ./*.md)

  # Replace emojis in all matching files
  for file in "${files[@]}"; do
    [[ -f "$file" ]] || continue
    sed -i 's/ğŸ˜¢/ğŸ¥¹/g' "$file"
    sed -i 's/ğŸ˜/ğŸ¥°/g' "$file"
  done
}

if [[ "${BASH_SOURCE[0]}" == "${0}" ]]; then
  main "$@"
fi
